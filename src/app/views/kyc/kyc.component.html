<div fxLayout="column">
  <mat-toolbar>
    <!-- view heading -->
    <span class="view-heading"></span>
    <div class="fill-remaining-space"></div>
    <!-- new integration button -->
    <button class="toolbar-button" mat-button color="primary">
      <div fxLayout="row" fxLayoutAlign="start end">
        <mat-icon>notifications</mat-icon>
        <!-- <div class="mat-button">NEW INTEGRATION</div> -->
      </div>
    </button>
  </mat-toolbar>
</div>

<div class="view" fxLayout="column" fxLayoutAlign="center" fxLayoutGap="20px">
  <div fxLayout="row" class="view-title-div" fxLayoutAlign="start center" fxLayoutGap="5px">
    <mat-icon>fingerprint</mat-icon>
    <span class="view-title-text">KYC Entry</span>
  </div>
  <div fxLayout="row" fxLayoutAlign="space-around center">
    <mat-card class="profileCard">
      <mat-card-header style="margin-bottom: 18px;">Customer Profile</mat-card-header>
      <mat-card-content fxLayout="column">
        <!-- <div fxLayout="column"> -->
          <mat-form-field class="form-field" *ngIf="stage">
              <input matInput type="text" placeholder="PAN of the customer"  [(ngModel)]="userData.pan" (keyup.enter)="panPressed()">
              <button mat-button *ngIf="userData.pan" matSuffix mat-icon-button aria-label="Clear" (click)="userData.pan=''">
                <mat-icon>close</mat-icon>
              </button>
            </mat-form-field>
            <mat-form-field class="form-field" *ngIf="stage==2||stage==3">
                <input matInput type="text" placeholder="Name as per pan" [(ngModel)]="userData.name">
                <button mat-button *ngIf="userData.name" matSuffix mat-icon-button aria-label="Clear" (click)="userData.name=''">
                  <mat-icon>close</mat-icon>
                </button>
            </mat-form-field>
            <mat-form-field class="form-field" *ngIf="stage==2||stage==3">
                <input matInput type="email" placeholder="Email" [(ngModel)]="userData.email">
                <button mat-button *ngIf="userData.email" matSuffix mat-icon-button aria-label="Clear" (click)="userData.email=''">
                  <mat-icon>close</mat-icon>
                </button>
            </mat-form-field>
            <mat-form-field class="form-field" *ngIf="stage==2||stage==3">
                <textarea matInput type="text" placeholder="Address" [(ngModel)]="userData.address"></textarea>
                <!-- <button mat-button *ngIf="userData.address" matSuffix mat-icon-button aria-label="Clear" (click)="userData.address=''">
                  <mat-icon>close</mat-icon> -->
                <!-- </button> -->
            </mat-form-field>
            <mat-form-field class="form-field" *ngIf="stage==2||stage==3">
                <input matInput type="number" placeholder="Phone" [(ngModel)]="userData.phone">
                <button mat-button *ngIf="userData.phone" matSuffix mat-icon-button aria-label="Clear" (click)="userData.phone=''">
                  <mat-icon>close</mat-icon>
                </button>
            </mat-form-field>
                <!-- <mat-form-field class="form-field">
                    <input matInput type="text" placeholder="Company" [(ngModel)]="company">
                    <button mat-button *ngIf="company" matSuffix mat-icon-button aria-label="Clear" (click)="company=''">
                      <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>
                <mat-form-field class="form-field" *ngIf="changePassword">
                    <input matInput type="password" placeholder="New Password" (keyup)="passwordPressed()" [(ngModel)]="password">
                  </mat-form-field>
                <div (click)="clickChangePassword()" *ngIf="!changePassword" class="passCta">Change password</div>
                <div fxLayoutAlign="space-around">
              <mat-checkbox  class="tosLink" *ngIf="!tos" (change)="checkboxClicked()"
              [(ngModel)]="tosLocal">
            I agree to the Marax &nbsp;<a target="_blank" href="https://marax-ai-legal.sgp1.cdn.digitaloceanspaces.com/MaraxAIToS.pdf">Software and Services Agreement</a>
          </mat-checkbox> -->
          <!-- </div> -->
          <button class="saveButton" mat-raised-button color="accent" (click)="buttonPressed()">{{buttonName}}</button>
              <!-- </div> -->
      </mat-card-content>
    </mat-card>
    </div>
    <!-- <mat-card fxLayout="row" fxLayoutAlign="space-around center" *ngIf="stage==3"> -->
      <div fxLayout="row" fxLayoutAlign="space-around center" *ngIf="stage==3">
        <mat-card class="profileCard" >
            <mat-card-header style="margin-bottom: 18px;">Upload Document</mat-card-header>
            <mat-divider [inset]="false"></mat-divider>
            <mat-card-content style="padding-top: 20px;">
              <mat-form-field class="form-field">
                <mat-label>Document type</mat-label>
                <mat-select [(value)]="selected">
                  <mat-option>None</mat-option>
                  <mat-option value="pan">PAN</mat-option>
                  <mat-option value="aadhaar">Aadhaar</mat-option>
                  <mat-option value="addproof">Address Proof</mat-option>
                  <mat-option value="photo">Photograph</mat-option>
                </mat-select>
              </mat-form-field>
                <input type="file" name="photo" ng2FileSelect [uploader]="uploader" style="margin-right: 200px;" />

                <button type="button" mat-raised-button color="accent"  (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length" >
                      Upload a document
                </button>
              
            </mat-card-content>
            <!-- <mat-card-content><mat-icon>attachment</mat-icon></mat-card-content> -->
        <!-- </mat-card> -->
        

      </mat-card>
    </div>
      <div fxLayout="column" fxLayoutAlign="space-around center" *ngIf="stage==3">
          <h4 style="font-size: 14px;">Available Documents</h4>
          <mat-card class="profileCard" *ngIf="typeHolder.pan">
            <mat-card-header style="margin-bottom: 18px;">PAN</mat-card-header>
            <mat-divider [inset]="false"></mat-divider>
            <mat-card-content >
                <mat-nav-list>
                    <mat-list-item *ngFor="let f of typeHolder.pan">
                       <!-- <a matLine href="">{{ f.path }}</a> -->
                       <p matLine>{{ f.path }}</p>
                       <button mat-raised-button (click)="downloadFile(f.path)">
                          Download
                           <!-- <mat-icon>info</mat-icon> -->
                        </button>
                   </mat-list-item>
                  </mat-nav-list>
            </mat-card-content>
          </mat-card>
          <mat-card class="profileCard" *ngIf="typeHolder.aadhaar">
              <mat-card-header style="margin-bottom: 18px;">Aadhaar</mat-card-header>
              <mat-divider [inset]="false"></mat-divider>
              <mat-card-content >
                  <mat-nav-list>
                      <mat-list-item *ngFor="let f of typeHolder.aadhaar">
                         <!-- <a matLine href="">{{ f.path }}</a> -->
                         <p matLine>{{ f.path }}</p>
                         <button mat-raised-button (click)="downloadFile(f.path)">
                            Download
                             <!-- <mat-icon>info</mat-icon> -->
                          </button>
                       </mat-list-item>
                    </mat-nav-list>
              </mat-card-content>
            </mat-card>
            <mat-card class="profileCard" *ngIf="typeHolder.addproof">
              <mat-card-header style="margin-bottom: 18px;">Address Proof</mat-card-header>
              <mat-divider [inset]="false"></mat-divider>
              <mat-card-content >
                  <mat-nav-list>
                      <mat-list-item *ngFor="let f of typeHolder.addproof">
                         <!-- <a matLine href="" download="{{f.path}}">{{ f.path }}</a> -->
                         <p matLine>{{ f.path }}</p>
                         <button mat-raised-button (click)="downloadFile(f.path)">
                            Download
                             <!-- <mat-icon>info</mat-icon> -->
                          </button>
                       </mat-list-item>
                    </mat-nav-list>
              </mat-card-content>
            </mat-card>
            <mat-card class="profileCard" *ngIf="typeHolder.photo">
              <mat-card-header style="margin-bottom: 18px;">Photograph</mat-card-header>
              <mat-divider [inset]="false"></mat-divider>
              <mat-card-content >
                  <mat-nav-list>
                      <mat-list-item *ngFor="let f of typeHolder.photo">
                         <!-- <p matLine href="" download="{{f.path}}">{{ f.path }}</p> -->
                         <p matLine>{{ f.path }}</p>
                         <button mat-raised-button (click)="downloadFile(f.path)">
                           Download
                            <!-- <mat-icon>info</mat-icon> -->
                         </button>
                      </mat-list-item>
                    </mat-nav-list>
              </mat-card-content>
            </mat-card>

          </div>
    
</div>




